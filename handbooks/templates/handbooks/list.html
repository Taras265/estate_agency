{% extends 'base.html' %}
{% load i18n %}

{% block title %}{% translate 'Handbooks' %}{% endblock %}

{% block content %}
<div class="responsive-tabs" data-type="horizontal">
    <ul class="resp-tabs-list tabs-1 tabs-group-default" data-group="tabs-group-default">
        <li></li>
        {% for i in choices %}
        {% if i.0 != 'profile' and i.1 != 'profile' %}
        <li {% if i.1 == choice %}class="resp-tab-item tabs-group-default resp-tab-active"{% endif %}>
            <a href="{% if i.1 == 'apartment' %}{% url 'objects:handbooks_list' lang=lang %}{% else %}
            {% url 'handbooks:handbooks_list' lang=lang handbook_type=i.1 %}{% endif %}">{{ i.0 }}</a>
        </li>
        {% endif %}
        {% endfor %}
    </ul>
    <div class="resp-tabs-container tabs-group-default" data-group="tabs-group-default">
    {% if page_obj %}
      <div>
        <div class="offset-top-66 text-center">
              <table class="table">
              <thead>
                <tr>
                  <th scope="col"></th>
                  {% for column in object_columns %}
                    {% if column != 'on_delete' %}<th scope="col">{{ column }}</th>{% endif %}
                  {% endfor %}
                  <th scope="col"></th>
                  <th scope="col"></th>
                  {% if choice == 'apartment' %}
                  <th scope="col"></th>
                  {% endif %}
                </tr>
              </thead>
              <tbody>
              {% for object in object_values %}
                <tr>
                  <td></td>
                  {% for key, data in object.items %}
                    {% if key != 'on_delete' %}<td>{{data}}</td>{% endif %}
                  {% endfor %}
                  <td><a class="btn btn-primary btn-sm btn-warning element-fullwidth"
                         href="/{{ lang }}/{% if choice == 'apartment' %}objects{% else %}handbook{% endif %}/base/update{% if choice != 'apartment' %}/{{ choice }}{% endif %}/{{ object.id }}/"
                         type="button" style="max-width: 120px">{% translate 'Update' %}</a></td>
                  <td><a class="btn btn-primary btn-sm btn-danger element-fullwidth"
                         href="/{{ lang }}/{% if choice == 'apartment' %}objects{% else %}handbook{% endif %}/base/delete{% if choice != 'apartment' %}/{{ choice }}{% endif %}/{{ object.id }}/"
                         type="button" style="max-width: 120px">{% translate 'Delete' %}</a></td>
                    <td><a class="btn btn-primary btn-sm btn-warning element-fullwidth"
                         href="/{{ lang }}/{% if choice == 'apartment' %}objects{% else %}handbook{% endif %}/base/history{% if choice != 'apartment' %}/{{ choice }}{% endif %}/{{ object.id }}/"
                         type="button" style="max-width: 120px">{% translate 'History' %}</a></td>
                  {% if choice == 'apartment' %}
                  <td><a class="btn btn-primary btn-sm btn-warning element-fullwidth"
                         href="{% url 'images:apartment_image_add' lang=lang pk=object.id %}"
                         type="button" style="max-width: 120px">{% translate 'Add image' %}</a></td>
                  {% endif %}
                </tr>
              {% endfor %}
              </tbody>
            </table>
        </div>
      </div>
    {% endif %}
        {% if choice == 'apartment' %}
            <a class="btn btn-primary btn-sm btn-warning element-fullwidth" href="{% url 'objects:create_apartment' lang=lang %}"
                             type="button" style="max-width: 120px">{% translate 'Create' %}</a>
        {% else %}
            <a class="btn btn-primary btn-sm btn-warning element-fullwidth" href="/{{ lang }}/handbook/base/create/{{ choice }}/"
                             type="button" style="max-width: 120px">{% translate 'Create' %}</a>
        {% endif %}
    </div>
</div>
{% endblock %}