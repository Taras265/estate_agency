{% extends 'base.html' %}
{% load i18n %}

{% block title %}{% translate 'Catalog' %}{% endblock %}

{% block content %}
<!-- Page Heading Banner -->
<div class="container-fluid page_heading_banner">
  <div class="banner_caption">
    <h1>{% translate 'Object details' %}</h1>
    <ul>
      <li><a href="{% url 'main' lang=lang %}">{% translate 'Main' %}</a></li>
      <li>{% translate 'Details' %}</li>
    </ul>
  </div>
</div>
<!-- Page Heading Banner End -->
<div class="container blogs_details_section">
    <!-- Properties Details -->
    <div class="properties_details">
        <div>
            <div class="properties_description">
                <!-- Gallery Section -->
                <div class="img">
                    <div id="carouselExampleControls" class="carousel slide" data-bs-ride="carousel">
                        <div class="carousel-inner">
                            {% for image in object.images.all %}
                            <div class="carousel-item {% if forloop.first %}active{% endif %}">
                                <img src="{{ image.image.url }}" class="d-block w-100 h-50" alt="...">
                            </div>
                            {% endfor %}
                        </div>
                        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">prev</span>
                        </button>
                        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">next</span>
                        </button>
                    </div>
                </div>
                <!-- Gallery Section End -->
                <div>
                    <div class="row mb-5">
                        <div class="col">
                            <div class="d-flex align-items-center gap-2 mb-2">
                                {{ form.room_types.label_tag }} {{ form.room_types }}
                            </div>
                            {{ form.room_types.errors }}
                        </div>
                        <div class="col">
                            <div class="d-flex align-items-center gap-2 mb-2">
                                {{ form.realtor.label_tag }} {{ form.realtor }}
                            </div>
                            {{ form.realtor.errors }}
                        </div>
                        <div class="col">
                            <div class="d-flex align-items-center gap-2 mb-2">
                                {{ form.deposit_date.label_tag }} {{ form.deposit_date }}
                            </div>
                            {{ form.deposit_date.errors }}
                        </div>
                        <div class="col">
                            <div class="d-flex align-items-center gap-2 mb-2">
                                {{ form.status.label_tag }} {{ form.status }}
                            </div>
                            {{ form.status.errors }}
                        </div>
                    </div>
                    <div class="row mb-5">
                        <div class="col">
                            <div class="d-flex align-items-center gap-2 mb-2">
                                {{ form.locality.label_tag }} {{ form.locality }}
                            </div>
                            <div id="locality-error" class="text-danger"></div>
                            {{ form.locality.errors }}
                        </div>
                        <div class="col">
                            <div class="d-flex align-items-center gap-2 mb-2">
                                {{ form.street.label_tag }} {{ form.street }}
                            </div>
                            <label id="street-error" class="text-danger"></label>
                            {{ form.street.errors }}
                        </div>
                        <div class="col">
                            <div class="d-flex align-items-center gap-2 mb-2">
                                {{ form.house.label_tag }} {{ form.house }}
                            </div>
                            <label id="house-error" class="text-danger"></label>
                            {{ form.house.errors }}
                        </div>
                    <div class="col">
                            <div class="d-flex align-items-center gap-2 mb-2">
                                {{ form.apartment.label_tag }} {{ form.apartment }}
                            </div>
                            <label id="apartment-error" class="text-danger"></label>
                            {{ form.apartment.errors }}
                        </div>
                    </div>
                    <div class="d-flex gap-3 mb-5">
                        <div>
                            <button type="button" id="btn-fill-address" class="btn btn-secondary">{% translate 'Fill address' %}</button>
                        </div>
                        <div>
                            <div class="d-flex align-items-center gap-3">
                                <button type="button" id="btn-verify-address" class="btn btn-secondary">{% translate 'Verify' %}</button>
                                <label></label>
                            </div>
                        </div>
                    </div>
                    <div class="d-inline-block mb-5">
                        <div class="d-flex align-items-center gap-2 mb-2">
                            {{ form.agency.label_tag }} {{ form.agency }}
                        </div>
                        {{ form.agency.errors }}
                    </div>
                    <div class="row mb-5">
                        <div class="col">
                            <div class="d-flex align-items-center gap-2 mb-2">
                                {{ form.square.label_tag }} {{ form.square }}
                            </div>
                            {{ form.square.errors }}
                        </div>
                        <div class="col">
                            <div class="d-flex align-items-center gap-2 mb-2">
                                {{ form.living_square.label_tag }} {{ form.living_square }}
                            </div>
                            {{ form.living_square.errors }}
                        </div>
                        <div class="col">
                            <div class="d-flex align-items-center gap-2 mb-2">
                                {{ form.kitchen_square.label_tag }} {{ form.kitchen_square }}
                            </div>
                            {{ form.kitchen_square.errors }}
                        </div>
                        <div class="col">
                            <div class="d-flex align-items-center gap-2 mb-2">
                                {{ form.height.label_tag }} {{ form.height }}
                            </div>
                            {{ form.height.errors }}
                        </div>
                    </div>
                    <div class="row mb-5">
                        <div class="col">
                            <div class="d-flex align-items-center gap-2 mb-2">
                                {{ form.price.label_tag }} {{ form.price }}
                            </div>
                            {{ form.price.errors }}
                        </div>
                        <div class="col d-flex align-items-center gap-2">
                            {{ form.exclusive.as_field_group }}
                        </div>
                        <div class="col d-flex align-items-center gap-2">
                            {{ form.e_home.as_field_group }}
                        </div>
                        <div class="col">
                            <div class="d-flex align-items-center gap-2 mb-2">
                                {{ form.document.label_tag }} {{ form.document }}
                            </div>
                            {{ form.document.errors }}
                        </div>
                    </div>
                    {{ formset.management_form }}
                    <div id="photo-formset" class="row mb-10">
                        {% for f in formset %}
                            <div class="col-md-4 mb-4">
                                <div class="card" style="width: 18rem;">
                                    {% if f.instance.pk %}
                                    <img src="{{ f.instance.image.url }}" style="height: 18rem; object-fit: cover;" alt="Apartment image">
                                    {% endif %}
                                    <div class="photo-form card-body">
                                        {{ f.as_p }}
                                    </div>
                                </div>
                            </div>
                        {% endfor %}
                    </div>
                    <div class="d-flex align-items-center gap-3 mb-5">
                        <button type="button" id="add-photo-form" class="btn btn-secondary">{% translate 'Add Photo' %}</button>
                    </div>
                    <div class="row mb-5">
                        <div class="col">
                            <div class="d-flex align-items-center gap-2 mb-2">
                                {{ form.house_type.label_tag }} {{ form.house_type }}
                            </div>
                            {{ form.house_type.errors }}
                        </div>
                        <div class="col">
                            <div class="d-flex align-items-center gap-2 mb-2">
                                {{ form.material.label_tag }} {{ form.material }}
                            </div>
                            {{ form.material.errors }}
                        </div>
                        <div class="col">
                            <div class="d-flex align-items-center gap-2 mb-2">
                                {{ form.complex.label_tag }} {{ form.complex }}
                            </div>
                            {{ form.complex.errors }}
                        </div>
                        <div class="col">
                            <div class="d-flex align-items-center gap-2 mb-2">
                                {{ form.condition.label_tag }} {{ form.condition }}
                            </div>
                            {{ form.condition.errors }}
                        </div>
                    </div>
                    <div class="row mb-5">
                        <div class="col">
                            <div class="d-flex align-items-center gap-2 mb-2">
                                {{ form.floor.label_tag }} {{ form.floor }}
                            </div>
                            {{ form.floor.errors }}
                        </div>
                        <div class="col">
                            <div class="d-flex align-items-center gap-2 mb-2">
                                {{ form.layout.label_tag }} {{ form.layout }}
                            </div>
                            {{ form.layout.errors }}
                        </div>
                        <div class="col d-flex align-items-center gap-2">
                            {{ form.balcony.as_field_group }}
                        </div>
                        <div class="col">
                            <div class="d-flex align-items-center gap-2 mb-2">
                                {{ form.stair.label_tag }} {{ form.stair }}
                            </div>
                            {{ form.stair.errors }}
                        </div>
                    </div>
                    <div class="row mb-5">
                        <div class="col">
                            <div class="d-flex align-items-center gap-2 mb-2">
                                {{ form.storeys_number.label_tag }} {{ form.storeys_number }}
                            </div>
                            {{ form.storeys_number.errors }}
                        </div>
                        <div class="col d-flex align-items-center gap-2">
                            {{ form.parking.as_field_group }}
                        </div>
                        <div class="col d-flex align-items-center gap-2">
                            {{ form.generator.as_field_group }}
                        </div>
                        <div class="col">
                            <div class="d-flex align-items-center gap-2 mb-2">
                                {{ form.creation_date.label_tag }} {{ form.creation_date }}
                            </div>
                            {{ form.creation_date.errors }}
                        </div>
                    </div>
                    <div class="row mb-5">
                        <div class="col">
                            <div class="d-flex align-items-center gap-2 mb-2">
                                {{ form.realtor_notes.label_tag }} {{ form.realtor_notes }}
                            </div>
                            {{ form.realtor_notes.errors }}
                        </div>
                    </div>
                    <div class="row mb-5">
                        <div class="col">
                            <div class="d-flex align-items-center gap-2 mb-2">
                                {{ form.sale_terms.label_tag }} {{ form.sale_terms }}
                            </div>
                            {{ form.sale_terms.errors }}
                        </div>
                    </div>
                    <div class="row mb-5">
                        <div class="col">
                            <div class="d-flex align-items-center gap-2 mb-2">
                                {{ form.owner.label_tag }} {{ form.owner }}
                            </div>
                            {{ form.owner.errors }}
                        </div>
                        <div class="col">
                            <a href="" id="btn-edit-owner" class="btn btn-secondary">{% translate 'Edit owner' %}</a>
                        </div>
                    </div>
                    <div class="row mb-5">
                        <div class="col">
                            <div class="d-flex align-items-center gap-2 mb-2">
                                {{ form.comment.label_tag }} {{ form.comment }}
                            </div>
                            {{ form.comment.errors }}
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div>
            <div class="border_box">
                <div class="sub_heading">
                    <h2>{% translate 'Realtors' %}</h2>
                </div>
                <div class="container agents_details_section">
                    <div class="agents_details">
                        <div>
                            <img class="img-fluid" src="{{ object.realtor.image.url }}" alt="user">
                        </div>
                        <div>
                            <div class="agent_title">
                                <div>
                                    <h4>
                                        {{ object.realtor.first_name }} {{ object.realtor.last_name }}
                                    </h4>
                                </div>
                            </div>
                            <ul class="basic_detail">
                                <li>{% translate 'Name' %} : <span>{{ object.realtor.first_name }} {{ object.realtor.last_name }}</span></li>
                                <li>{% translate 'Phone' %} : <span>{{ object.realtor.phone }}</span></li>
                                <li>{% translate 'Email' %} : <span>{{ object.realtor.email }}</span></li>
                            </ul>
                        </div>
                    </div>
                    {% if object.site_realtor1 %}
                    <div class="agents_details">
                        <div>
                            <img class="img-fluid" src="{{ object.site_realtor1.image.url }}" alt="user">
                        </div>
                        <div>
                            <div class="agent_title">
                                <div>
                                    <h4>
                                        {{ object.site_realtor1.first_name }} {{ object.site_realtor1.last_name }}
                                    </h4>
                                </div>
                            </div>
                            <ul class="basic_detail">
                                <li>{% translate 'Name' %} : <span>{{ object.site_realtor1.first_name }} {{ object.site_realtor1.last_name }}</span></li>
                                <li>{% translate 'Phone' %} : <span>{{ object.site_realtor1.phone }}</span></li>
                                <li>{% translate 'Email' %} : <span>{{ object.site_realtor1.email }}</span></li>
                            </ul>
                        </div>
                    </div>
                    {% endif %}
                    {% if object.site_realtor2 %}
                    <div class="agents_details">
                        <div>
                            <img class="img-fluid" src="{{ object.site_realtor2.image.url }}" alt="user">
                        </div>
                        <div>
                            <div class="agent_title">
                                <div>
                                    <h4>
                                        {{ object.site_realtor2.first_name }} {{ object.site_realtor2.last_name }}
                                    </h4>
                                </div>
                            </div>
                            <ul class="basic_detail">
                                <li>{% translate 'Name' %} : <span>{{ object.site_realtor2.first_name }} {{ object.site_realtor1.last_name }}</span></li>
                                <li>{% translate 'Phone' %} : <span>{{ object.site_realtor2.phone }}</span></li>
                                <li>{% translate 'Email' %} : <span>{{ object.site_realtor2.email }}</span></li>
                            </ul>
                        </div>
                    </div>
                    {% endif %}
                    {% if object.realtor_5_5 %}
                    <div class="agents_details">
                        <div>
                            <img class="img-fluid" src="{{ object.realtor_5_5.image.url }}" alt="user">
                        </div>
                        <div>
                            <div class="agent_title">
                                <div>
                                    <h4>
                                        {{ object.realtor_5_5.first_name }} {{ object.realtor_5_5.last_name }}
                                    </h4>
                                </div>
                            </div>
                            <ul class="basic_detail">
                                <li>{% translate 'Name' %} : <span>{{ object.realtor_5_5.first_name }} {{ object.site_realtor1.last_name }}</span></li>
                                <li>{% translate 'Phone' %} : <span>{{ object.realtor_5_5.phone }}</span></li>
                                <li>{% translate 'Email' %} : <span>{{ object.realtor_5_5.email }}</span></li>
                            </ul>
                        </div>
                    </div>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
    <!-- Properties Details End -->
</div>
{% endblock %}
